{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["webpack","stringify","path","sources","getInvalidator","getEntries","EntryTypes","getEntryKey","WEBPACK_LAYERS","APP_CLIENT_INTERNALS","COMPILER_NAMES","EDGE_RUNTIME_WEBPACK","SERVER_REFERENCE_MANIFEST","generateActionId","getActions","isClientComponentEntryModule","isCSSMod","traverseModules","forEachEntryModule","normalizePathSep","getProxiedPluginState","PLUGIN_NAME","pluginState","serverActions","edgeServerActions","actionModServerId","actionModEdgeServerId","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","deduplicateCSSImportsForEntry","mergedCSSimports","sortedCSSImports","Object","entries","sort","a","b","aPath","bPath","aDepth","split","length","bDepth","aName","parse","name","bName","indexA","indexOf","indexB","dedupedCSSImports","trackedCSSImports","Set","entryName","cssImports","cssImport","has","filename","includes","add","push","FlightClientEntryPlugin","constructor","options","dev","appDir","isEdgeServer","useServerActions","serverActionsBodySizeLimit","assetPrefix","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","resource","layer","client","ssrNamedModuleId","relative","context","startsWith","replace","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","String","make","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createActionAssets","addClientEntryAndSSRModulesList","createdSSRDependenciesForEntry","addActionEntryList","actionMapsPerEntry","entryModule","internalClientComponentEntryImports","actionEntryImports","Map","clientEntriesToInject","connection","getOutgoingConnections","entryDependency","dependency","entryRequest","clientComponentImports","actionImports","collectComponentInfoFromServerEntryDependency","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","relativeRequest","bundlePath","assign","absolutePagePath","clientEntryToInject","injected","injectClientEntryAndSSRModules","clientImports","size","errors","Error","createdActions","actionNames","actionName","injectActionEntry","actions","finishModules","addedClientActionEntryList","actionMapsPerClientEntry","ssrEntryDepdendencies","collectClientActionsFromDependencies","remainingClientImportedActions","remainingActionEntryImports","remainingActionNames","id","fromClient","Promise","all","invalidator","outputPath","some","shouldInvalidate","invalidate","map","addClientEntryAndSSRModules","collectedActions","visitedModule","visitedEntry","collectActions","collectActionsInDep","dependencyToFilter","getResolvedModule","modRequest","query","ssrEntryModule","visited","CSSImports","filterClientComponents","isCSS","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","Array","from","loaderOptions","modules","server","clientLoader","importPath","sep","clientSSRLoader","pageKey","type","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","JSON","__client_imported__","currentCompilerServerActions","p","workers","action","actionEntryDep","resolve","reject","entry","get","includeDependencies","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","chunkGroup","test","mapping","json","node","edge","undefined","RawSource"],"mappings":"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"}