{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["FlightClientEntryPlugin","PLUGIN_NAME","pluginState","getProxiedPluginState","serverActions","edgeServerActions","actionModServerId","actionModEdgeServerId","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","deduplicateCSSImportsForEntry","mergedCSSimports","sortedCSSImports","Object","entries","sort","a","b","aPath","bPath","aDepth","split","length","bDepth","aName","path","parse","name","bName","indexA","indexOf","indexB","dedupedCSSImports","trackedCSSImports","Set","entryName","cssImports","cssImport","has","filename","includes","add","push","constructor","options","dev","appDir","isEdgeServer","useServerActions","serverActionsBodySizeLimit","assetPrefix","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","webpack","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","resource","layer","WEBPACK_LAYERS","client","ssrNamedModuleId","relative","context","startsWith","normalizePathSep","replace","traverseModules","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","String","make","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createActionAssets","addClientEntryAndSSRModulesList","createdSSRDependenciesForEntry","addActionEntryList","actionMapsPerEntry","forEachEntryModule","entryModule","internalClientComponentEntryImports","actionEntryImports","Map","clientEntriesToInject","connection","getOutgoingConnections","entryDependency","dependency","entryRequest","clientComponentImports","actionImports","collectComponentInfoFromServerEntryDependency","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","relativeRequest","bundlePath","assign","absolutePagePath","clientEntryToInject","injected","injectClientEntryAndSSRModules","clientImports","APP_CLIENT_INTERNALS","size","errors","Error","createdActions","actionNames","actionName","injectActionEntry","actions","finishModules","addedClientActionEntryList","actionMapsPerClientEntry","ssrEntryDepdendencies","collectClientActionsFromDependencies","remainingClientImportedActions","remainingActionEntryImports","remainingActionNames","id","fromClient","Promise","all","invalidator","getInvalidator","outputPath","some","shouldInvalidate","invalidate","COMPILER_NAMES","map","addClientEntryAndSSRModules","collectedActions","visitedModule","visitedEntry","collectActions","collectActionsInDep","dependencyToFilter","getResolvedModule","modRequest","query","getActions","ssrEntryModule","visited","CSSImports","filterClientComponents","isCSS","isCSSMod","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","EDGE_RUNTIME_WEBPACK","isClientComponentEntryModule","Array","from","loaderOptions","modules","server","clientLoader","stringify","importPath","sep","clientSSRLoader","getEntries","pageKey","getEntryKey","type","EntryTypes","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","JSON","__client_imported__","currentCompilerServerActions","p","generateActionId","workers","action","actionEntryDep","resolve","reject","entry","get","includeDependencies","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","chunkGroup","test","mapping","json","node","edge","undefined","SERVER_REFERENCE_MANIFEST","sources","RawSource"],"mappings":"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"}